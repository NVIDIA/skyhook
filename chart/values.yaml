controllerManager:
  # tolerations:
  # - key: dedicated
  #   operator: "Equal"
  #   value: system-cpu
  #   effect: NoSchedule
  tolerations: []
  # selectors:
  #   dedicated: system-workload
  selectors: {}
  kubeRbacProxy:
    args:
    - --secure-listen-address=0.0.0.0:8443
    - --upstream=http://127.0.0.1:8080/
    - --logtostderr=true
    - --v=0
    containerSecurityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
    image:
      repository: quay.io/brancz/kube-rbac-proxy
      tag: v0.15.0
    resources:
      limits:
        cpu: 500m
        memory: 128Mi
      requests:
        cpu: 5m
        memory: 64Mi
  manager:
    containerSecurityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
    env:
      copyDirRoot: /tmp
      enableWebhooks: "true"
      leaderElection: "true"
      logLevel: info
      metricsPort: :8080
      probePort: :8081
      reapplyOnReboot: "false"
      runtimeRequiredTaint: skyhook.nvidia.com=runtime-required:NoSchedule
      pauseImage: registry.k8s.io/pause:3.10
      agentImage: nvcr.io/nvidian/swgpu-baseos/skyhook-agent:latest
    image:
      repository: nvcr.io/nvidian/swgpu-baseos/skyhook-operator
      tag: latest
    # If this is defined it will override the default calculation for resources
    # from estimatedNodeCount and estimatedPackageCount. The below values are
    # what will be calculated until nodes > 1000 and packages 1-2 or nodes > 500 and packages >= 4
    # resources:
    #   limits:
    #     cpu: 1000m
    #     memory: 512Mi
    #   requests:
    #     cpu: 200m
    #     memory: 64Mi
  replicas: 2 ## more than 1 need to make sure leaderElection is on
  podDisruptionBudget:
    minAvailable: 1 ## need to be in sync with replicas, but less than
  serviceAccount:
    annotations: {}
kubernetesClusterDomain: cluster.local
metricsService:
  ports:
  - name: https
    port: 8443
    protocol: TCP
    targetPort: https
  type: ClusterIP
webhookService:
  ports:
  - port: 443
    protocol: TCP
    targetPort: 9443
  type: ClusterIP
rbac:
  createSkyhookViewerRole: false
  createSkyhookEditorRole: false
imagePullSecret: node-init-secret
useHostNetwork: false
estimatedPackageCount: 1
estimatedNodeCount: 1